<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Tienda de mi Barrio</title>

    <link rel="apple-touch-icon" href="img/apple-icon.png">
    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">

    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/templatemo.css">
    <link rel="stylesheet" href="css/custom.css">

    <!-- Load fonts style after rendering the layout styles -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;200;300;400;500;700;900&display=swap">
    <link rel="stylesheet" href="css/fontawesome.min.css">

    <script src="db-simulacion/datos.js"></script>
    <script src="db-simulacion/funciones.js"></script>

</head>
<body>
    <div id="header"></div>
    

    <!-- Start Banner Hero -->
    <div id="template-mo-zay-hero-carousel" class="carousel slide" data-bs-ride="carousel">
        <ol class="carousel-indicators">  
            <!--<li data-bs-target="#template-mo-zay-hero-carousel" data-bs-slide-to="0" class="active"></li>-->
        </ol>
        <div style="height: 320px;" class="carousel-inner">
           
                    
        </div>
        <a class="carousel-control-prev text-decoration-none w-auto ps-3" href="#template-mo-zay-hero-carousel" role="button" data-bs-slide="prev">
            <i class="fas fa-chevron-left"></i>
        </a>
        <a class="carousel-control-next text-decoration-none w-auto pe-3" href="#template-mo-zay-hero-carousel" role="button" data-bs-slide="next">
            <i class="fas fa-chevron-right"></i>
        </a>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const banner = obtenerBanners();
            const carouselInner = document.querySelector('.carousel-inner');
            const carouselIndicators = document.querySelector('.carousel-indicators');  
            banner.forEach((item, index) => {
                const carouselItem = document.createElement('div');
                carouselItem.className = `carousel-item ${index === 0 ? 'active' : ''}`;
                carouselItem.innerHTML = `
                    <div class="container">
                        <div class="row p-5">
                            <div class="mx-auto col-md-8 col-lg-6 order-lg-last">
                                <img class="img-fluid" src="${item.imagen}" alt="">
                            </div>
                            <div class="col-lg-6 mb-0 d-flex align-items-center">
                                <div class="text-start align-self-center">
                                    <h1 class="h1 text-success"><b>${item.titulo}</b></h1>
                                    <h3 class="h2">${item.subtítulo}</h3>
                                        <p>
                                    ${item.descripcion}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                `; 
                carouselInner.appendChild(carouselItem);
                //Agregar los indicadores del carrusel
                const indicator = document.createElement('li');
                indicator.setAttribute('data-bs-target', '#template-mo-zay-hero-carousel');
                indicator.setAttribute('data-bs-slide-to', index);
                if (index == 0) {
                    indicator.classList.add('active');
                }
                carouselIndicators.appendChild(indicator);
            });
        });  
        
    </script>
    <!-- End Banner Hero -->


    <!-- Start Categories of The Month -->
    <section class="container py-5">
        <div class="row text-center pt-3">
            <div class="col-lg-6 m-auto">
                <h1 class="h1">Categorias del Mes</h1>
                <p>
                    Descubre nuestras categorías destacadas del mes, con productos frescos, esenciales y
                    al mejor precio para tu hogar.
                </p>
            </div>
        </div>
        <div class="row" id="categorias">          
        </div>
    </section>
    <script>
        const categorias = obtenerCategorias();
        const contenedor = document.getElementById('categorias'); //nuevo contenedor

        let fila = document.createElement('div'); //nuevo elemento fila
        fila.className = 'row';//agregar clase fila
        contenedor.appendChild(fila); //agregar fila al contenedor

        categorias.forEach((cat, index) =>{
            // Si index es 3, significa que vamos a empezar la segunda fila
            if (index === 3) {
            fila = document.createElement('div');
            fila.className = 'row';
            contenedor.appendChild(fila);
            }
            const tarjeta = document.createElement ('div');
            tarjeta.className = 'col-12 col-md-3 p-5 mt-3';
            tarjeta.innerHTML = `
                <a href="#"><img src="${cat.imagen}" class="rounded-circle img-fluid border"></a>
                <h5 class="text-center mt-3 mb-3">${cat.nombre}</h5>
                <p class="text-center">${cat.descripcion}</p>
                <p class="text-center"><a class="btn btn-success" href="productos.html?categoria=${cat.codigo}">Ver productos</a></p>
            `;
            //document.getElementById('categorias').appendChild(tarjeta);
            fila.appendChild(tarjeta); //agregar tarjeta a la fila
        });
    </script>
    <!-- End Categories of The Month -->  

    <div id="footer"></div> 
    
     <!-- Start Script -->
    <script src="js/jquery-1.11.0.min.js"></script>
    <script src="js/jquery-migrate-1.2.1.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/templatemo.js"></script>
    <script src="js/custom.js"></script>
    <!-- End Script -->

    <script>
        document.addEventListener("DOMContentLoaded", () => {
        cargarFragmento("header", "header.html", () => {
            const contadorCarrito = sessionStorage.getItem("contadorCarrito") || 0;
            const etiquetaContador = document.getElementById("contadorCarrito");
            if (etiquetaContador) {
                etiquetaContador.textContent = contadorCarrito;
            }
        });

        cargarFragmento("footer", "footer.html");
    });
    </script>
      
</body>
</html>